{"version":3,"sources":["meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/methods/methods.js"],"names":["Template","module","watch","require","v","ReactiveVar","Accounts","Meteor","Peliculas","Mongo","Collection","subscribe","body","helpers","peliculas","Session","get","find","checked","$ne","hideFinished","events","event","titulo","target","value","call","set","pelicula","isOwner","owner","userId","_id","private","ui","config","passwordSignupFields","methods","agregarPelicula","insert","createdAt","Date","actualizarPelicula","id","pel","findOne","Error","update","$set","eliminarPelicula","remove","setPrivate"],"mappings":"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","file":"/app.js","sourcesContent":["import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\nimport { Accounts } from 'meteor/accounts-base';\nimport { Meteor } from 'meteor/meteor';\n\nimport './main.html';\n\nPeliculas = new Mongo.Collection('peliculas');\n\nMeteor.subscribe('peliculas');\n\nTemplate.body.helpers({\n  peliculas: function () {\n    if (Session.get('hideFinished')) {\n      return Peliculas.find({checked: {$ne: true}});\n    } else {\n      return Peliculas.find();\n    }\n  },\n  hideFinished: function() {\n    return Session.get('hideFinished');\n  }\n});\n\nTemplate.body.events({\n  'submit .nueva-pelicula': function(event) {\n    const titulo = event.target.titulo.value;\n\n    Meteor.call('agregarPelicula', titulo);\n\n    event.target.titulo.value = '';\n    return false;\n  },\n  'change .hide-finished': function(event) {\n    Session.set('hideFinished', event.target.checked);\n  }\n});\n\nTemplate.pelicula.helpers({\n  isOwner: function() {\n    return this.owner === Meteor.userId();\n  }\n});\n\nTemplate.pelicula.events({\n  'click .toggle-checked': function(){\n    Meteor.call('actualizarPelicula', this._id, !this.checked);\n  },\n  'click .delete': function() {\n    Meteor.call('eliminarPelicula', this._id);\n  },\n  'click .toggle-private': function(){\n    Meteor.call('setPrivate', this._id, !this.private);\n  }\n});\n\nAccounts.ui.config({\n  passwordSignupFields: \"USERNAME_ONLY\"\n});\n","import { Meteor } from 'meteor/meteor';\n\nMeteor.methods({\n  agregarPelicula: function(titulo) {\n    Peliculas.insert({\n      titulo: titulo,\n      createdAt: new Date(),\n      owner: Meteor.userId()\n    });\n  },\n  actualizarPelicula: function(id, checked) {\n    var pel = Peliculas.findOne(id);\n\n    if (pel.owner !== Meteor.userId()) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Peliculas.update(id, {$set: {checked: checked}});\n  },\n  eliminarPelicula: function(id) {\n    var pel = Peliculas.findOne(id);\n\n    if (pel.owner !== Meteor.userId()) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Peliculas.remove(id);\n  },\n  setPrivate: function(id, private) {\n    var pel = Peliculas.findOne(id);\n\n    if (pel.owner !== Meteor.userId()) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    Peliculas.update(id, {$set: {private: private}});\n  }\n});\n"]}